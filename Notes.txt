//ORIGINAL DISPLAY OPTIONS FUNCTION WITH EXPIRATION ADD ON
function displayOptions(options) {
    const optionsContainer = document.getElementById('options-container');
    optionsContainer.innerHTML = ''; // Clear previous options

    // optionsContainer.style.width = '600px';

    if (!options) {
        optionsContainer.textContent = 'Failed to fetch options data.';
        return;
    }

    Object.keys(options).forEach(expiration => {
        const expirationHeader = document.createElement('h3');
        expirationHeader.textContent = `Expiration: ${expiration}`;
        optionsContainer.appendChild(expirationHeader);

        ['calls', 'puts'].forEach(type => {
            const typeHeader = document.createElement('h4');
            typeHeader.textContent = type.charAt(0).toUpperCase() + type.slice(1);
            optionsContainer.appendChild(typeHeader);

            const table = document.createElement('table');
            table.className = 'options-table';
            // table.style.tableLayout = 'fixed';

            const headers = Object.keys(options[expiration][type][0]);
            const thead = document.createElement('thead');
            const headerRow = document.createElement('tr');

            headers.forEach(header => {
                const th = document.createElement('th');
                th.textContent = header;
                headerRow.appendChild(th);
            });

            thead.appendChild(headerRow);
            table.appendChild(thead);

            const tbody = document.createElement('tbody');
            options[expiration][type].forEach(option => {
                const row = document.createElement('tr');
                headers.forEach(header => {
                    const td = document.createElement('td');
                    td.textContent = option[header];
                    row.appendChild(td);
                });
                tbody.appendChild(row);
            });

            table.appendChild(tbody);
            optionsContainer.appendChild(table);
        });
    });
}